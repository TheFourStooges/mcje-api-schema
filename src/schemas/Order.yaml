# Order:
type: object
properties:
  id:
    $ref: './RecordId.yaml'
  cartId:
    $ref: './RecordId.yaml'
  checkoutTokenId:
    $ref: './RecordId.yaml'
  referenceNumber:
    type: string
    minLength: 5
    maxLength: 15
  createdAt:
    $ref: './RecordId.yaml'
  updatedAt:
    $ref: './RecordId.yaml'
  deletedAt:
    $ref: './RecordId.yaml'
  customer:
    type: object
    properties:
      name:
        type: string
        example: Nguyen Van A
      email:
        type: string
        format: email
      ipAddress:
        type: string
      country:
        type: string
      region:
        type: string
  shippingAddress:
    $ref: './ShippingAddress.yaml'
  status:
    type: string
    enum:
    - "created"
    - "fulfilled"
    - "confirmed-satisfied"
    - "refunded"
  paymentStatus:
    type: string
    enum:
    - "not-paid"
    - "paid-not-in-full"
    - "paid-in-full"
    - "refunded"
  fulfillmentStatus:
    type: string
    enum:
    - "await-confirmation"
    - "confirmed-and-prep"
    - "shipping"
    - "fulfilled"
  totalItems:
    type: integer
    format: uint32
  totalUniqueItems:
    type: integer
    format: uint32
  subtotal:
    $ref: './Price.yaml'
  shipping:
    $ref: './Price.yaml'
  tax:
    $ref: './Price.yaml'
  total: 
    $ref: './Price.yaml'
  totalWithTax:
    $ref: './Price.yaml'
  paymentMethod:
    type: string
    enum:
    - "card" 
    - "bank-transfer" 
    - "cash-on-delivery"
  orderItems:
    type: array
    items:
      $ref: './OrderItem.yaml'
  orderPayments:
    type: array
    items:
      $ref: './OrderPayment.yaml'
  orderFulfillments:
    type: array
    items:
      $ref: './OrderFulfillment.yaml'
xml:
  name: Order